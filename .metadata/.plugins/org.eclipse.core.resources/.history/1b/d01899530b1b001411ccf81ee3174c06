import java.util.Random;
import java.util.Scanner;

/*
 * TODO
 * 
 * 1.사람 수 입력
 * 2.사람 수만큼의 Col 생성
 * 3.각 Raw에 랜덤으로 선긋기
 * (col의 row지점에 랜덤-> 왼쪽 col은 +1, 오른쪽 col은 -1)
 */


public class Ladder {
	
	Scanner sc = new Scanner(System.in);
	int rawCount;
	int personCount;
	Column[] column;
	People[] people;
	
	public Ladder(int personCount){
		Init(personCount);
		makeLadder();
		getPersonName(personCount);
	}

	private void getPersonName(int personCount) {
		System.out.println("입력이 필요한 인원수 : " + personCount + "명입니다.\n"
				+ "각 이름을 띄어쓰기로 나누어 입력해주세요.\n"
				+ "Ex) 이용은 최승희 서재원");
		
		String[] nameList = sc.nextLine().split(" ");
		int gapCount = personCount - nameList.length; //입력받은 사람 수와 입력받아야 하는 사람 수의 차.
		
		if(gapCount < 0){
			System.out.println("입력한 사람 이름이 인원수를 초과하였습니다. 다시 입력해주세요.");
			getPersonName(personCount);
			return;
		} else if(gapCount == 0){
			setPersonData(nameList);
		} else {
			setPersonData(nameList);
			System.out.println((personCount - nameList.length) + "명을 더 입력해야 합니다.");
			getPersonName(personCount - nameList.length);
		}
	}
	
	private void setPersonData(String[] nameList){
		for(int i = 0; i < nameList.length; i++){
			people[i] = new People(nameList[i], i);
		}
	}

	private void makeLadder(){
		setRandomRaw();
	}
	
	private void setRandomRaw(){
		for(int i = 0; i < rawCount; i++){
			for(int j = 0; j < personCount-1; j++){
				
				if(hasRaw())
					makeRaw(i,j);
				
			}
		}
	}
	
	private void makeRaw(int i, int j){
		column[i].setRaw(j, 1);
		column[i].setRaw(j+1, -1);		
	}
	
	private Boolean hasRaw(){
		return new Random().nextBoolean();
	}

	//Column, People객체를 초기화해주고, Raw 줄수를 지정한다..
	private void Init(int personCount){
		
		System.out.println("초기화합니다...");
		
		this.personCount = personCount;
		people = new People[personCount];
		column = new Column[personCount];
		setRawNum();
		for(int i = 0; i < personCount; i++){
			column[i] = new Column(rawCount);
		}
		
		System.out.println("초기화 완료!");
	}
	
	private void setRawNum(){
		rawCount = personCount*2;
	}
	
	public void printLadder(){
		
	}
}
